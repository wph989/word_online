/* 移除过于激进的 global reset，防止影响 WangEditor 等第三方组件 */
/* * {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
} */

body {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
    sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  background-color: #f0f2f5;
}

code {
  font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New',
    monospace;
}

h1 {
  color: #1890ff;
  margin-bottom: 10px;
}

h3,
h4 {
  margin-bottom: 10px;
  color: #333;
}

/* WangEditor 默认样式定义
 * 注意：这些值应与 src/config/editorDefaults.ts 中的配置保持一致
 * 默认字体：Microsoft YaHei (微软雅黑)
 * 默认字号：16px
 * 默认行高：1.5
 */
.w-e-text-container {
  background-color: #f0f2f5 !important; /* 浅灰色背景模拟桌面 */
  min-height: 100% !important;
  /* 794px(A4) + 60px(左右padding:30*2) + 额外留白，确保不被压缩 */
  min-width: 860px !important; 
  padding: 30px !important; /* 关键：给整个编辑区添加内边距，确保纸张不贴边 */
  
  /* 确保 flex 布局相关属性不会干扰 margin auto */
  display: block !important; 
}

/* 模拟 A4 纸张样式 */
.w-e-text-container [data-slate-editor] {
  font-family: "Microsoft YaHei", "Heiti SC", sans-serif !important;
  font-size: 16px !important;
  line-height: 1.5 !important;
  color: #333;
  
  /* A4 纸张尺寸与外观 */
  width: 794px !important;     /* A4 宽度 (210mm @ 96dpi) */
  min-width: 794px !important; /* 禁止收缩 */
  min-height: 1123px !important; /* A4 高度 (297mm @ 96dpi) */
  
  /* 居中逻辑：
     1. 上下 margin 为 0 (由 container padding 提供间距)
     2. 左右 margin 为 auto (实现水平居中)
  */
  margin: 0 auto !important;
  
  background-color: #fff !important;
  /* 使用 CSS 变量控制页边距，默认值为：上40px 右50px 下40px 左50px */
  padding: var(--page-margin-top, 40px) var(--page-margin-right, 50px) var(--page-margin-bottom, 40px) var(--page-margin-left, 50px) !important;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1) !important; /* 纸张阴影 */
  box-sizing: border-box !important;
  overflow-x: hidden !important;
}

/* 确保段落继承这些默认值 */
.w-e-text-container p {
  font-family: inherit;
  font-size: inherit;
  line-height: inherit;
  margin: 10px 0;
}

/* ==========================================================================
   WANGEDITOR 样式修复
   ========================================================================== */

/* 修复：确保加粗(Bold)和下划线(Underline)同时使用时能正确显示 */
.w-e-text-container strong,
.w-e-text-container b {
  font-weight: bold;
}

.w-e-text-container u {
  text-decoration: underline;
}

/* 强制嵌套样式生效，解决某些情况下样式丢失的问题 */
.w-e-text-container strong u,
.w-e-text-container u strong,
.w-e-text-container b u,
.w-e-text-container u b {
  font-weight: bold !important;
  text-decoration: underline !important;
}

/* 兼容 span 内联样式 */
.w-e-text-container span[style*="font-weight: bold"] {
  font-weight: bold !important;
}

.w-e-text-container span[style*="text-decoration: underline"] {
  text-decoration: underline !important;
}

/* ==========================================================================
   防止内容溢出 A4 纸张区域
   ========================================================================== */

/* 1. 表格：强制 maxWidth 为 100%，并使用固定布局 */
.w-e-text-container table {
  width: 100% !important;
  max-width: 100% !important;
  table-layout: fixed !important; /* 关键：固定布局防止被长内容撑开 */
  word-wrap: break-word !important; /* 强制长单词换行 */
}

/* 2. 代码块：允许滚动，不撑开容器 */
.w-e-text-container pre {
  max-width: 100% !important;
  white-space: pre-wrap !important; /* 强制代码换行 */
  word-wrap: break-word !important;
}

.w-e-text-container code {
  white-space: pre-wrap !important; /* 强制代码换行 */
  word-wrap: break-word !important;
}

/* 3. 图片：自适应宽度 */
.w-e-text-container img {
  max-width: 100% !important;
  height: auto !important;
}

/* 4. 确保编辑器内容容器自身不会溢出 */
/* 已在上方 A4 样式中统一处理 */